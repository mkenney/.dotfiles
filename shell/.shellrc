# ./.bash_profile
export PATH="$PATH:/Applications/Docker.app/Contents/Resources/bin/"
eval "$(/opt/homebrew/bin/brew shellenv)"

# Aliases
#echo "~/.dotfiles/shell/common/aliases"
if [ -f ~/.dotfiles/shell/common/aliases ]; then
    source ~/.dotfiles/shell/common/aliases
fi

# AWS
#echo "~/.dotfiles/shell/common/aws"
if [ -f ~/.dotfiles/shell/common/aws ]; then
    source ~/.dotfiles/shell/common/aws
fi

# # validity-auth.sh
# #echo "~/.dotfiles/shell/common/validity-auth.sh"
# if [ -f ~/.dotfiles/shell/common/validity-auth.sh ]; then
#     source ~/.dotfiles/shell/common/validity-auth.sh
# fi

# Bash completion settings
if [ "Darwin" = "$(uname)" ] && [ "" != $(which brew) ] && [ -f $(brew --prefix)/etc/profile.d/bash_completion.sh ]; then
    #echo "$(brew --prefix)/etc/profile.d/bash_completion.sh"
    source $(brew --prefix)/etc/profile.d/bash_completion.sh
fi
#echo "~/.dotfiles/bash/completion"
# if [ -f ~/.dotfiles/shell/common ]; then
#     source ~/.dotfiles/bash/completion
# fi

#echo "~/.dotfiles/shell/common/clickhouse"
if [ -f ~/.dotfiles/shell/common/clickhouse ]; then
    source ~/.dotfiles/shell/common/clickhouse
fi

# CVS shortcuts
#echo "~/.dotfiles/shell/common/cvs"
if [ -f ~/.dotfiles/shell/common/cvs ]; then
    source ~/.dotfiles/shell/common/cvs
fi

# devenv
#echo "~/.dotfiles/bash/devenv"
if [ -f ~/.dotfiles/bash/devenv ]; then
    source ~/.dotfiles/bash/devenv
fi

# ENV
#echo "~/.dotfiles/shell/common/env"
if [ -f ~/.dotfiles/shell/common/env ]; then
    source ~/.dotfiles/shell/common/env
fi
#echo "~/.dotfiles/shell/common/env_platform"
if [ -f ~/.dotfiles/shell/common/env_platform ]; then
    source ~/.dotfiles/shell/common/env_platform
fi

# Command extensions
if [ -f ~/.dotfiles/bash/didyoumean ]; then
    source ~/.dotfiles/bash/didyoumean
fi
#echo "~/.dotfiles/bash/ext/cmd"
if [ -f ~/.dotfiles/bash/ext/cmd ]; then
    source ~/.dotfiles/bash/ext/cmd
fi

# Functions
#echo "~/.dotfiles/shell/common/functions"
if [ -f ~/.dotfiles/shell/common/functions ]; then
    source ~/.dotfiles/shell/common/functions
fi

# Bash completion settings
if [ "Darwin" = "$(uname)" ] && [ "" != $(which brew) ] && [ -f $(brew --prefix)/etc/profile.d/bash_completion.sh ]; then
    source $(brew --prefix)/etc/profile.d/bash_completion.sh
fi
#echo "~/.dotfiles/bash/completion"
if [ -f ~/.dotfiles/shell/common ]; then
    source ~/.dotfiles/bash/completion
fi
# Git completion
#echo "~/.dotfiles/shell/common/git-completion"
if [[ -n ${ZSH_VERSION-} && -z ${GIT_SOURCING_ZSH_COMPLETION-} ]] && [ -f ~/.dotfiles/shell/common/git-completion.zsh ]; then
    fpath=(~/.dotfiles/shell/completion/zsh $fpath)
elif [ -f ~/.dotfiles/shell/completion/git-completion.bash ]; then
    source ~/.dotfiles/shell/completion/git-completion.bash
fi

# Git prompt
#echo "~/.dotfiles/shell/git-status"
# if [ -f ~/.dotfiles/shell/git-status ]; then
#     source ~/.dotfiles/shell/git-status
# fi

# Go
#echo "~/.dotfiles/shell/common/go"
if [ -f ~/.dotfiles/shell/common/go ]; then
    source ~/.dotfiles/shell/common/go
fi

# helm
#echo "~/.dotfiles/shell/common/helm"
if [ -f ~/.dotfiles/shell/common/helm ]; then
    source ~/.dotfiles/shell/common/helm
fi

# Java
#echo "~/.dotfiles/shell/common/java"
if [ -f ~/.dotfiles/shell/common/java ]; then
    source ~/.dotfiles/shell/common/java
fi

# kubectl
#echo "~/.dotfiles/shell/common/kubectl"
# if [ -f ~/.dotfiles/shell/common/kubectl ]; then
#    source ~/.dotfiles/shell/common/kubectl
# fi

# Perl
#echo "~/.dotfiles/shell/common/perl"
if [ -f ~/.dotfiles/shell/common/perl ]; then
    source ~/.dotfiles/shell/common/perl
fi

# NVM
#echo "~/.dotfiles/shell/common/nvm"
if [ -f ~/.dotfiles/shell/common/nvm ]; then
    source ~/.dotfiles/shell/common/nvm
fi

# Prompt
#echo "~/.dotfiles/bash/prompt"
if [ -f ~/.dotfiles/bash/prompt ]; then
    source ~/.dotfiles/bash/prompt
fi
#echo "~/.dotfiles/bash/prompt"
if [ -f ~/.dotfiles/shell/prompt/prompt.zsh ]; then
    source ~/.dotfiles/shell/prompt/prompt.zsh
fi

# Screen aliases
#echo "~/.dotfiles/shell/common/screen"
if [ -f ~/.dotfiles/shell/common/screen ]; then
    source ~/.dotfiles/shell/common/screen
fi

# SSH tunnel aliases
#echo "~/.dbtunnels"
if [ -f ~/.dbtunnels ]; then
    source ~/.dbtunnels
fi

# Tmuxinator-completion
#echo "~/.dotfiles/bash/tmuxinator-completion"
if [ -f ~/.dotfiles/bash/tmuxinator-completion ]; then
    source ~/.dotfiles/bash/tmuxinator-completion
fi

# Terraform
#echo "~/.dotfiles/shell/common/terraform"
if [ -f ~/.dotfiles/shell/common/terraform ]; then
    source ~/.dotfiles/shell/common/terraform
fi

# VIM
#echo "~/.dotfiles/shell/common/vim"
if [ -f ~/.dotfiles/shell/common/vim ]; then
    source ~/.dotfiles/shell/common/vim
fi

# CDPATH
#echo "~/.dotfiles/shell/common/cdpath"
if [ -f ~/.dotfiles/shell/common/cdpath ]; then
    source ~/.dotfiles/shell/common/cdpath
fi

# tmux
#echo "~/.dotfiles/shell/common/tmux"
if [ -f ~/.dotfiles/shell/common/tmux ]; then
    source ~/.dotfiles/shell/common/tmux
fi

source "$HOME/.cargo/env"

# The following lines were added by compinstall

zstyle :compinstall filename '/Users/mkenney/.zshrc'
zstyle ':completion:*' completer _expand _complete _ignored _prefix
zstyle ':completion:*' format '%d'
zstyle ':completion:*' group-name ''
zstyle ':completion:*' list-colors ${(s.:.)LS_COLORS}
zstyle ':completion:*' matcher-list '' 'm:{[:lower:]}={[:upper:]}' 'r:|[._-]=* r:|=*'
zstyle ':completion:*' menu yes select

autoload -Uz compinit
compinit

fpath=(~/.dotfiles/shell/fn "${fpath[@]}")
autoload -Uz __k8s_status
autoload -Uz k
autoload -Uz k8s
autoload -Uz kn
autoload -Uz kp
autoload -Uz kx