#
# Gerrit-specific aliases and functions
#

# list current projects in gerrit
alias gerrit-ls="ssh -p 29418 gerrit.dev.returnpath.net gerrit ls-projects"
alias status="git status"
alias pull="git pull"
alias gcommit="git commit"
alias use="checkout"

# Auto-clean common coding style errors
export GIT_PRECH_CLEANALL=true

# Don't let phpcs errors block commits
export GIT_PRECH_ALWAYSCOMMIT=true

# switch to a specific branch
function checkout {
        BRANCH=$1
	if [ "${BRANCH}" = '' ]
	then
		echo "Checkout what?"
	else
		git checkout "${BRANCH}"
	fi
}

# create a new branch
function branch	{
        BRANCH=$1
	if [ "${BRANCH}" = '' ] || [ "${BRANCH}" = 'list' ]
	then
		git branch
	else
		git branch "${BRANCH}"
		git checkout "${BRANCH}"
	fi
}

# clone	a project from gerrit
function clone {
        PROJECT=$1
        git clone ssh://mkenney@gerrit.dev.returnpath.net:29418/"${PROJECT}"
        scp -p -P 29418 gerrit.dev.returnpath.net:hooks/commit-msg "${PROJECT}"/.git/hooks/
}

